{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","WebAPI.js","pages/MessagePage/MessagePage.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","_arrayLikeToArray","len","arr2","BASE_URL","fetchComments","fetch","then","res","json","getPosts","getPost","id","Root","styled","div","PostTitle","CreatedAt","PostContent","Button","Link","PostDate","PostContainer","PostList","post","to","title","Date","createdAt","toLocaleString","Post","posts","history","map","body","onClick","goBack","MessagePage","useHistory","useParams","useState","setPosts","setPost","useEffect"],"mappings":"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","file":"static/js/5.a39d742f.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","const BASE_URL = \"https://student-json-api.lidemy.me\";\r\nconst API_ENDPOINT =\r\n  \"https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc\";\r\n\r\nexport const fetchComments = () => {\r\n  return fetch(API_ENDPOINT).then((res) => res.json());\r\n};\r\n\r\nexport const getPosts = () => {\r\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const getPost = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { getPosts, getPost } from \"../../WebAPI\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Root = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst PostTitle = styled.div`\r\n  font-weight: 900;\r\n  font-size: 30px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst CreatedAt = styled.div`\r\n  color: #888;\r\n  font-weight: bold;\r\n  padding: 10px 0px;\r\n  border-bottom: solid 1px #ddd;\r\n`;\r\nconst PostContent = styled.div`\r\n  padding: 15px 0px;\r\n  border-bottom: solid 1px #ddd;\r\n  line-height: 26px;\r\n  color: #333;\r\n`;\r\n\r\nconst Button = styled(Link)`\r\n  border: solid 2px #888;\r\n  border-radius: 20px;\r\n  padding: 8px 10px;\r\n  box-shadow: 5px 5px 0px #ccc;\r\n  max-width: 100px;\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    transform: translateX(-10px);\r\n    box-shadow: 5px 5px 0px #888;\r\n  }\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nconst PostContainer = styled(Link)`\r\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\r\n  padding: 1rem;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  text-align: justify;\r\n  word-break: break-word;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst PostList = ({ post }) => {\r\n  return (\r\n    <PostContainer id={`${post.id}`} to={`/post/${post.id}`}>\r\n      <PostTitle id={`${post.id}`}>{post.title}</PostTitle>\r\n      <PostDate id={`${post.id}`}>\r\n        {new Date(post.createdAt).toLocaleString()}\r\n      </PostDate>\r\n    </PostContainer>\r\n  );\r\n};\r\n\r\nconst Post = ({ posts, post, history }) => {\r\n  if (!post) return null;\r\n\r\n  return (\r\n    <Root>\r\n      <div>\r\n        {posts.map((post) => (\r\n          <PostList key={post.id} post={post} />\r\n        ))}\r\n      </div>\r\n\r\n      <PostContent>\r\n        <PostTitle>{post.title}</PostTitle>\r\n        <CreatedAt>{new Date(post.createdAt).toLocaleString()}</CreatedAt>\r\n        <PostContent>{post.body}</PostContent>\r\n        <Button onClick={() => history.goBack()}>上一頁</Button>\r\n      </PostContent>\r\n    </Root>\r\n  );\r\n};\r\n\r\nexport default function MessagePage() {\r\n  let history = useHistory();\r\n  const { id } = useParams();\r\n  const [posts, setPosts] = useState([]);\r\n  const [post, setPost] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getPosts().then((posts) => setPosts(posts));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getPost(id).then((post) => setPost(post[0]));\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      <Post posts={posts} post={post} history={history} />\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}